local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Mouse = game.Players.LocalPlayer:GetMouse()
local CamlockState = false
local Prediction = 0.1768521
local HorizontalPrediction = 0.111076110
local VerticalPrediction = 0.11034856
local XPrediction = 20
local YPrediction = 20

function FindNearestEnemy()
    local ClosestDistance, ClosestPlayer = math.huge, nil
    local CenterPosition =
        Vector2.new(
        game:GetService("GuiService"):GetScreenResolution().X / 2,
        game:GetService("GuiService"):GetScreenResolution().Y / 2
    )

    for _, Player in ipairs(game:GetService("Players"):GetPlayers()) do
        if Player ~= LocalPlayer then
            local Character = Player.Character
            if Character and Character:FindFirstChild("HumanoidRootPart") and Character.Humanoid.Health > 0 then
                local Position, IsVisibleOnViewport =
                    game:GetService("Workspace").CurrentCamera:WorldToViewportPoint(Character.HumanoidRootPart.Position)

                if IsVisibleOnViewport then
                    local Distance = (CenterPosition - Vector2.new(Position.X, Position.Y)).Magnitude
                    if Distance < ClosestDistance then
                        ClosestPlayer = Character.HumanoidRootPart
                        ClosestDistance = Distance
                    end
                end
            end
        end
    end

    return ClosestPlayer
end

local enemy = nil
-- Function to aim the camera at the nearest enemy's HumanoidRootPart
RunService.Heartbeat:Connect(
    function()
        if CamlockState == true then
            if enemy then
                local camera = workspace.CurrentCamera
                camera.CFrame = CFrame.new(camera.CFrame.p, enemy.Position + enemy.Velocity * Prediction)
            end
        end
    end
)

local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false 
gui.Parent = game.CoreGui 
 
local frame = Instance.new("Frame")
frame.Position = UDim2.new(0.7941033, 0, 0.01415416, 0)
frame.Size = UDim2.new(0, 100, 0, 54)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
 
-- Scripts:
 
local function SMXC_fake_script() -- frameScript 
	local script = Instance.new('Script', frame)
 
	--text color change script by dizzywig2000
	wait()
	while true do 
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.BackgroundColor3 = Color3.new(i, 0, n)
	wait() 
		end  
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.BackgroundColor3 = Color3.new(n, i, 0)
	wait()
		end   
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.BackgroundColor3 = Color3.new(0, n, i)
			wait() 
	end 
	end 
end
coroutine.wrap(SMXC_fake_script)()
 
local button = Instance.new("TextButton")
button.Parent = frame
button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
button.Position = UDim2.new(0.0033, 0, 0.01415416, 0)
button.Size = UDim2.new(0, 99, 0, 52)
button.Style = Enum.ButtonStyle.RobloxRoundButton
button.Font = Enum.Font.SourceSansBold
button.Text = "WHAT"
button.TextColor3 = Color3.fromRGB(0, 0, 0)
button.TextScaled = true
button.TextSize = 25
button.TextWrapped = true
 
-- Scripts:
 
local function SMXC_fake_script() -- buttonScript 
	local script = Instance.new('Script', button)
 
	--text color change script by dizzywig2000
	wait()
	while true do 
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.TextColor3 = Color3.new(i, 0, n)
	wait() 
		end  
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.TextColor3 = Color3.new(n, i, 0)
	wait()
		end   
		wait()
	i = 0
	for n=1,0,-0.05 do 
	i = i + 0.05
	script.Parent.TextColor3 = Color3.new(0, n, i)
			wait() 
	end 
	end 
end
coroutine.wrap(SMXC_fake_script)()
local state = true
button.MouseButton1Click:Connect(
    function()
        state = not state
        if not state then
            button.Text = "BladLock ON"
            CamlockState = true
            enemy = FindNearestEnemy()
        else
            button.Text = "BladLock OFF"
            CamlockState = false
            enemy = nil
        end
    end
)
